"use strict";angular.module("myAppApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","rzModule"]).config(["$routeProvider",function(a){a.when("/template1",{templateUrl:"views/template1.html",controller:"templateCtrl",templateName:"template1"}).when("/template2",{templateUrl:"views/template2.html",controller:"templateCtrl",templateName:"template2"}).when("/template3",{templateUrl:"views/template3.html",controller:"templateCtrl",templateName:"template3"}).otherwise({redirectTo:"/template1"})}]),angular.module("myAppApp").controller("templateCtrl",["$scope","$http","$route",function(a,b,c){function d(a){e(a[0].plans),"template3"==l?i():g("template2"==l),j()}function e(b){a.baseInfo=[],a.dataInfo=[],a.voiceInfo=[],a.smsInfo=[],a.selectedDataIndex=0,a.selectedVoiceIndex=0,a.selectedSmsIndex=0;for(var c=0;c<b.components.length;c++)"Data"==b.components[c].component_type?a.dataInfo.push(b.components[c]):"Voice"==b.components[c].component_type?a.voiceInfo.push(b.components[c]):a.smsInfo.push(b.components[c]);a.dataInfo.sort(f("value",!1,parseInt)),a.voiceInfo.sort(f("value",!1,parseInt)),a.smsInfo.sort(f("value",!1,parseInt)),delete b.components,a.baseInfo=b}function f(a,b,c){var d=c?function(b){return c(b[a])}:function(b){return b[a]};return b=b?-1:1,function(a,c){return a=d(a),c=d(c),b*((a>c)-(c>a))}}function g(b){a.sliderData={id:"Data",value:a.selectedDataIndex,options:{floor:a.baseInfo.increment_data_min,ceil:a.baseInfo.increment_data_max,showSelectionBar:!0,showTicksValues:!0,vertical:b,ticksValuesTooltip:function(a){return"Tooltip for "+a},stepsArray:h(a.dataInfo,"data"),onChange:function(b,c,d){a.selectedDataIndex=c,k()}}},a.sliderVoice={value:a.selectedVoiceIndex,options:{floor:a.baseInfo.increment_voice_min,ceil:a.baseInfo.increment_voice_max,showSelectionBar:!0,showTicksValues:!0,vertical:b,ticksValuesTooltip:function(a){return"Tooltip for "+a},stepsArray:h(a.voiceInfo,"voice"),onChange:function(b,c,d){a.selectedVoiceIndex=c,k()}}},a.sliderSms={value:a.selectedSmsIndex,options:{floor:a.baseInfo.increment_sms_min,ceil:a.baseInfo.increment_sms_max,showSelectionBar:!0,showTicksValues:!0,vertical:b,ticksValuesTooltip:function(a){return"Tooltip for "+a},stepsArray:h(a.smsInfo,"sms"),onChange:function(b,c,d){a.selectedSmsIndex=c,k()}}}}function h(b,c){var d="";d="data"==c?a.baseInfo.data+",":"voice"==c?a.baseInfo.minutes+",":a.baseInfo.sms+",";for(var e=0;e<b.length;e++){var f=0;f="data"==c?parseInt(b[e].value)+parseInt(a.baseInfo.data):"voice"==c?parseInt(b[e].value)+parseInt(a.baseInfo.minutes):parseInt(b[e].value)+parseInt(a.baseInfo.sms),d+=f,e!=b.length-1&&(d+=",")}return d.split(",")}function i(){angular.element("#sliderData").roundSlider({sliderType:"min-range",width:20,radius:80,min:0,max:a.dataInfo.length,value:a.selectedDataIndex,editableTooltip:!1,circleShape:"half-top",tooltipFormat:function(a){return"+"+a.value+" GB"},change:function(b){a.selectedDataIndex=b.value,k()}}),angular.element("#sliderVoice").roundSlider({sliderType:"min-range",width:20,radius:80,min:0,max:a.voiceInfo.length,value:a.selectedVoiceIndex,editableTooltip:!1,circleShape:"half-top",tooltipFormat:function(b){return"+"+b.value*a.baseInfo.increment_minutes+" mins"},change:function(b){a.selectedVoiceIndex=b.value,k()}}),angular.element("#sliderSms").roundSlider({sliderType:"min-range",width:20,radius:80,min:0,max:a.smsInfo.length,value:a.selectedSmsIndex,editableTooltip:!1,circleShape:"half-top",tooltipFormat:function(b){return"+"+b.value*a.baseInfo.increment_sms+" SMS"},change:function(b){a.selectedSmsIndex=b.value,k()}})}function j(){a.txtChartData="$"+a.baseInfo.increment_data_price+"/"+a.baseInfo.increment_data+"GB",a.txtChartVoice="$"+a.baseInfo.increment_minutes_price+"/"+a.baseInfo.increment_minutes+"mins",a.txtChartSms="$"+a.baseInfo.increment_sms_price+"/"+a.baseInfo.increment_sms+"SMS",a.txtSubtotal=a.baseInfo.basicPrice}function k(){a.txtSubtotal=parseInt(a.baseInfo.data)*a.baseInfo.increment_data_price+a.selectedDataIndex*a.baseInfo.increment_data_price+10+a.selectedVoiceIndex*a.baseInfo.increment_minutes_price+a.selectedSmsIndex*a.baseInfo.increment_sms_price,"template3"==l&&(a.$$phase||a.$apply())}var l=c.current.$$route.templateName;b.get("https://staging.circles.asia/plans.json").success(d)}]),angular.module("myAppApp").run(["$templateCache",function(a){a.put("views/template1.html",'<div class="container"> <div class="well border-shadow"> <div class="row text-center"> <h2 class="blue"><span class="glyphicon glyphicon-signal"></span> Base Plan</h2> <h3>${{txtSubtotal | number:2}}/month</h3> </div> <hr> <div class="row"> <div class="col-md-8"> <div class="row horiz-sliders"> <div class="col-lg-2 text-right"> <h4>Data</h4> <h5>{{txtChartData}}</h5> </div> <div class="col-lg-8"> <rzslider rz-slider-model="sliderData.value" rz-slider-options="sliderData.options"> </rzslider> </div> <div class="col-lg-2"> <h4 class="text-center">{{ baseInfo[\'data\'] + (selectedDataIndex * baseInfo[\'increment_data\']) }}<br>GB</h4> </div> </div> <div class="row horiz-sliders"> <div class="col-lg-2 text-right"> <h4>Talk</h4> <h5>{{txtChartVoice}}</h5> </div> <div class="col-lg-8"> <rzslider rz-slider-model="sliderVoice.value" rz-slider-options="sliderVoice.options"> </rzslider> </div> <div class="col-lg-2"> <h4 class="text-center">{{ baseInfo[\'minutes\'] + (selectedVoiceIndex * baseInfo[\'increment_minutes\']) }}<br>MINS</h4> </div> </div> <div class="row horiz-sliders"> <div class="col-lg-2 text-right"> <h4>SMS</h4> <h5>{{txtChartSms}}</h5> </div> <div class="col-lg-8"> <rzslider rz-slider-model="sliderSms.value" rz-slider-options="sliderSms.options"> </rzslider> </div> <div class="col-lg-2"> <h4 class="text-center">{{ baseInfo[\'sms\'] + (selectedSmsIndex * baseInfo[\'increment_sms\']) }}<br>SMS</h4> </div> </div> <hr> <p>This plan is customizable month to month on <a href="#">Circle Care Mobile App</a>.</p> </div> <div class="col-md-4"> <h4 class="text-center">SUMMARY</h4> <div class="row"> <div class="col-md-6"> <h5>Starting base</h5> <h6>({{baseInfo[\'data\']}} GB, {{baseInfo[\'minutes\']}} min, {{baseInfo[\'sms\']}} SMS)</h6> </div> <div class="col-md-6"> <h5>${{baseInfo[\'basicPrice\'] |number:2}}/mon</h5> </div> </div> <br> <div class="row"> <div class="col-md-6"> <h5>+{{selectedDataIndex}} GB Data</h5> <h5>+{{selectedVoiceIndex * baseInfo[\'increment_minutes\']}} mins</h5> <h5>+{{selectedSmsIndex * baseInfo[\'increment_sms\']}} SMS</h5> </div> <div class="col-md-6"> <h5>${{selectedDataIndex * baseInfo[\'increment_data_price\'] |number:2}}/mon</h5> <h5>${{selectedVoiceIndex * baseInfo[\'increment_minutes_price\'] |number:2}}</h5> <h5>${{selectedSmsIndex * baseInfo[\'increment_sms_price\'] |number:2}}/mon</h5> </div> </div> <hr> <div class="row"> <div class="col-md-6"> <h4>Total</h4> <h6>Registration Fee</h6> </div> <div class="col-md-6"> <h4>${{txtSubtotal | number:2}}/mon</h4> <h6>${{baseInfo[\'activation_charge\'] | number:2}}</h6> </div> </div> <br> <div class="row"> <div class="col-md-11"><button type="button" class="btn btn-primary btn-block">Next</button></div> <div class="col-md-1"></div> </div> </div> </div> </div> </div>'),a.put("views/template2.html",'<div class="container"> <div class="well border-shadow"> <div class="row text-center"> <h2 class="blue"><span class="glyphicon glyphicon-signal"></span> Base Plan</h2> <h3>${{txtSubtotal | number:2}}/month</h3> </div> <hr> <div class="row"> <div class="col-md-8"> <div class="row"> <div class="col-md-4"> <div class="row vertical-sliders"> <div class="col-md-5 text-center"> <div class="vertical-lefttop_text"> <h4>{{ baseInfo[\'data\'] + (selectedDataIndex * baseInfo[\'increment_data\']) }}<br>GB</h4> </div> <div> <h4>Data</h4> <h5>{{txtChartData}}</h5> </div> </div> <div class="col-md-7"> <rzslider rz-slider-model="sliderData.value" rz-slider-options="sliderData.options"> </rzslider> </div> </div> </div> <div class="col-md-4"> <div class="row vertical-sliders"> <div class="col-md-5 text-center"> <div class="vertical-lefttop_text"> <h4>{{ baseInfo[\'minutes\'] + (selectedVoiceIndex * baseInfo[\'increment_minutes\']) }}<br>MINS</h4> </div> <div> <h4>Talk</h4> <h5>{{txtChartVoice}}</h5> </div> </div> <div class="col-md-7"> <rzslider rz-slider-model="sliderVoice.value" rz-slider-options="sliderVoice.options"> </rzslider> </div> </div> </div> <div class="col-md-4"> <div class="row vertical-sliders"> <div class="col-md-5 text-center"> <div class="vertical-lefttop_text"> <h4>{{ baseInfo[\'sms\'] + (selectedSmsIndex * baseInfo[\'increment_sms\']) }}<br>SMS</h4> </div> <div> <h4>SMS</h4> <h5>{{txtChartSms}}</h5> </div> </div> <div class="col-md-7"> <rzslider rz-slider-model="sliderSms.value" rz-slider-options="sliderSms.options"> </rzslider> </div> </div> </div> </div> <hr> <p>This plan is customizable month to month on <a href="#">Circle Care Mobile App</a>.</p> </div> <div class="col-md-4"> <h4 class="text-center">SUMMARY</h4> <div class="row"> <div class="col-md-6"> <h5>Starting base</h5> <h6>({{baseInfo[\'data\']}} GB, {{baseInfo[\'minutes\']}} min, {{baseInfo[\'sms\']}} SMS)</h6> </div> <div class="col-md-6"> <h5>${{baseInfo[\'basicPrice\'] |number:2}}/mon</h5> </div> </div> <br> <div class="row"> <div class="col-md-6"> <h5>+{{selectedDataIndex}} GB Data</h5> <h5>+{{selectedVoiceIndex * baseInfo[\'increment_minutes\']}} mins</h5> <h5>+{{selectedSmsIndex * baseInfo[\'increment_sms\']}} SMS</h5> </div> <div class="col-md-6"> <h5>${{selectedDataIndex * baseInfo[\'increment_data_price\'] |number:2}}/mon</h5> <h5>${{selectedVoiceIndex * baseInfo[\'increment_minutes_price\'] |number:2}}</h5> <h5>${{selectedSmsIndex * baseInfo[\'increment_sms_price\'] |number:2}}/mon</h5> </div> </div> <hr> <div class="row"> <div class="col-md-6"> <h4>Total</h4> <h6>Registration Fee</h6> </div> <div class="col-md-6"> <h4>${{txtSubtotal | number:2}}/mon</h4> <h6>${{baseInfo[\'activation_charge\'] | number:2}}</h6> </div> </div> <br> <br> <div class="row"> <div class="col-md-11"><button type="button" class="btn btn-primary btn-block">Next</button></div> <div class="col-md-1"></div> </div> </div> </div> </div> </div> '),a.put("views/template3.html",'<div class="container"> <div class="well border-shadow"> <div class="row text-center"> <h2 class="blue"><span class="glyphicon glyphicon-signal"></span> Base Plan</h2> <h3>${{txtSubtotal | number:2}}/month</h3> </div> <hr> <div class="row"> <div class="col-md-8"> <div class="row"> <div class="col-md-4"> <div class="col-md-12 text-center"> <div> <h4>{{ baseInfo[\'data\'] + (selectedDataIndex * baseInfo[\'increment_data\']) }}<br>GB</h4> </div> <div class="slider_div"> <div id="sliderData"></div> </div> <div> <h4>Data</h4> <h5>{{txtChartData}}</h5> </div> </div> </div> <div class="col-md-4"> <div class="col-md-12 text-center"> <div> <h4>{{ baseInfo[\'minutes\'] + (selectedVoiceIndex * baseInfo[\'increment_minutes\']) }}<br>MINS</h4> </div> <div class="slider_div"> <div id="sliderVoice"></div> </div> <div> <h4>Talk</h4> <h5>{{txtChartVoice}}</h5> </div> </div> </div> <div class="col-md-4"> <div class="col-md-12 text-center"> <div> <h4>{{ baseInfo[\'sms\'] + (selectedSmsIndex * baseInfo[\'increment_sms\']) }}<br>SMS</h4> </div> <div class="slider_div"> <div id="sliderSms"></div> </div> <div> <h4>SMS</h4> <h5>{{txtChartSms}}</h5> </div> </div> </div> </div> <br> <br> <br> <hr> <p>This plan is customizable month to month on <a href="#">Circle Care Mobile App</a>.</p> </div> <div class="col-md-4"> <h4 class="text-center">SUMMARY</h4> <div class="row"> <div class="col-md-6"> <h5>Starting base</h5> <h6>({{baseInfo[\'data\']}} GB, {{baseInfo[\'minutes\']}} min, {{baseInfo[\'sms\']}} SMS)</h6> </div> <div class="col-md-6"> <h5>${{baseInfo[\'basicPrice\'] |number:2}}/mon</h5> </div> </div> <br> <div class="row"> <div class="col-md-6"> <h5>+{{selectedDataIndex}} GB Data</h5> <h5>+{{selectedVoiceIndex * baseInfo[\'increment_minutes\']}} mins</h5> <h5>+{{selectedSmsIndex * baseInfo[\'increment_sms\']}} SMS</h5> </div> <div class="col-md-6"> <h5>${{selectedDataIndex * baseInfo[\'increment_data_price\'] |number:2}}/mon</h5> <h5>${{selectedVoiceIndex * baseInfo[\'increment_minutes_price\'] |number:2}}</h5> <h5>${{selectedSmsIndex * baseInfo[\'increment_sms_price\'] |number:2}}/mon</h5> </div> </div> <hr> <div class="row"> <div class="col-md-6"> <h4>Total</h4> <h6>Registration Fee</h6> </div> <div class="col-md-6"> <h4>${{txtSubtotal | number:2}}/mon</h4> <h6>${{baseInfo[\'activation_charge\'] | number:2}}</h6> </div> </div> <br> <br> <div class="row"> <div class="col-md-11"><button type="button" class="btn btn-primary btn-block">Next</button></div> <div class="col-md-1"></div> </div> </div> </div> </div> </div>')}]);